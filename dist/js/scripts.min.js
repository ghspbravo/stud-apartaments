/*! stud-apartaments v0.0.1 | (c) 2019 spBRAVO | MIT License | http://link-to-your-git-repo.com */
function attachMobileNavigationEvents(){document.querySelectorAll(".js-mobile-control-open").forEach(e=>{e.addEventListener("click",openMobileNav)}),document.querySelectorAll(".js-mobile-control-close").forEach(e=>{e.addEventListener("click",closeMobileNav)})}function openMobileNav(){document.querySelector(".mobile-nav-control-burger").style.display="none",document.querySelector(".mobile-nav-control-close").style.display="block",document.querySelector("#js-mobile-navigation").classList.add("open")}function closeMobileNav(){document.querySelector(".mobile-nav-control-burger").style.display="block",document.querySelector(".mobile-nav-control-close").style.display="none",document.querySelector("#js-mobile-navigation").classList.remove("open")}function attachModalEvents(){document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("click",t=>{t.target===e&&e.classList.remove("open")})}),document.querySelectorAll(".js-modal-open").forEach(e=>{e.addEventListener("click",handleOpenModal)}),document.querySelectorAll(".js-modal-close").forEach(e=>{e.addEventListener("click",handleCloseModal)})}function handleCloseModal(e){switch(e.target.dataset.modal){case"callback":closeModal(document.getElementById("js-modal-callback"));break;case"callback-success":closeModal(document.getElementById("js-modal-callback-success"));break;case"request":closeModal(document.getElementById("js-modal-request"));break;case"request-success":closeModal(document.getElementById("js-modal-request-success"));break;case"member":closeModal(document.getElementById("js-modal-member"));break;case"member-success":closeModal(document.getElementById("js-modal-member-success"));break;case"review":closeModal(document.getElementById("js-modal-review"));break;case"review-success":closeModal(document.getElementById("js-modal-review-success"));break;case"page":closeModal(document.getElementById("js-modal-page"))}}function handleOpenModal(e){switch(e.target.dataset.modal){case"callback":openModal(document.getElementById("js-modal-callback"));break;case"request":openModal(document.getElementById("js-modal-request"));break;case"member":openModal(document.getElementById("js-modal-member"));break;case"review":openModal(document.getElementById("js-modal-review"));break;case"page":setIframePage(e.target.dataset.page),openModal(document.getElementById("js-modal-page"))}}function openModal(e){e.classList.add("open")}function closeModal(e){e.classList.remove("open")}function attachFormSubmitEvents(){document.querySelectorAll(".js-form-request").forEach(e=>e.addEventListener("submit",e=>{e.preventDefault(),closeModal(document.getElementById("js-modal-request")),openModal(document.getElementById("js-modal-request-success"))})),document.querySelectorAll(".js-form-callback").forEach(e=>e.addEventListener("submit",e=>{e.preventDefault(),closeModal(document.getElementById("js-modal-callback")),openModal(document.getElementById("js-modal-callback-success"))})),document.querySelectorAll(".js-form-member").forEach(e=>e.addEventListener("submit",e=>{e.preventDefault(),closeModal(document.getElementById("js-modal-member")),openModal(document.getElementById("js-modal-member-success"))})),document.querySelectorAll(".js-form-review").forEach(e=>e.addEventListener("submit",e=>{e.preventDefault(),closeModal(document.getElementById("js-modal-review")),openModal(document.getElementById("js-modal-review-success"))}))}function attachScrollTo(){document.querySelectorAll(".js-scrollTo").forEach(e=>e.addEventListener("click",t=>{const o=e.dataset.anchor,l=document.getElementById(o).offsetTop-50;window.scrollTo({top:l,behavior:"smooth"})}))}function attachScrollSpy(){document.documentElement.scrollTop||document.body.scrollTop;document.querySelectorAll(".js-scrollspy").forEach(e=>{let t=0,o=0;if(e.dataset.classanchor){const l=e.dataset.classanchor;Object.values(document.getElementsByClassName(l)).forEach((e,l)=>{0===l&&(t=e.offsetTop-50,o+=t),o+=e.offsetHeight})}else{const l=e.dataset.anchor;t=document.getElementById(l).offsetTop-50,o=t+document.getElementById(l).offsetHeight}window.addEventListener("scroll",()=>{const l=document.documentElement.scrollTop||document.body.scrollTop;l>t&&l<o?e.classList.contains("active")||e.classList.add("active"):e.classList.contains("active")&&e.classList.remove("active")})})}function attachScrollSpyTabs(){window.addEventListener("scroll",()=>{const e=document.documentElement.scrollTop||document.body.scrollTop;document.querySelectorAll(".services-tabs").forEach(t=>{const o=document.getElementById("services-content").offsetTop,l=o+document.getElementById("services-content").offsetHeight-300;e>o&&e<l?t.classList.contains("show")||t.classList.add("show"):t.classList.contains("show")&&t.classList.remove("show")})})}function setIframePage(e){const t="/flatRent.html",o="/hostelRent.html",l="/hotelRent.html",c="/studHostelItem.html",s="/flatItem.html",a=document.getElementById("page-frame");switch(e){case"flatRent":a.src=t;break;case"hostelRent":a.src=o;break;case"hotelRent":a.src=l;break;case"studHostelItem":a.src=c;break;case"flatItem":a.src=s}}document.addEventListener("DOMContentLoaded",(function(){try{attachMobileNavigationEvents(),attachModalEvents(),attachFormSubmitEvents(),attachScrollTo(),attachScrollSpy(),attachScrollSpyTabs()}catch(e){console.log(e)}}));